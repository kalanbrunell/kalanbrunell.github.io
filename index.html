<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Kalan Brunell — Engineering Portfolio</title>

<!-- Meta / SEO -->
<link rel="icon" href="/favicon.ico" />
<meta name="description" content="Kalan Brunell — Engineering Portfolio" />
<meta property="og:title" content="Kalan Brunell — Engineering Portfolio" />
<meta property="og:description" content="Kalan Brunell's engineering portfolio showcasing projects in embedded systems and robotics." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://kalanbrunell.site/" />
<meta property="og:image" content="https://kalanbrunell.site/og-card.jpg" />

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1149WE8N1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){ dataLayer.push(arguments); }
  gtag('js', new Date());
  gtag('config', 'G-B1149WE8N1');
</script>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;800&family=Inter:wght@400;500&display=swap" rel="stylesheet" />
<style>
  :root{
    --bg: linear-gradient(135deg,#f2f3f4 0%, #eaeaea 100%);
    --text:#212121;
    --muted:#5e6770;
    --card:#ffffff;
    --accent:#00447c;       /* navy (primary) */
    --accent-hover:#002756; /* deep navy (hover) */
    --accent-alt:#035b7a;   /* teal (secondary) */
    --neutral:#c6c3b6;      /* divider/beige */
  }

  *{ box-sizing:border-box }
  html{ scroll-behavior:smooth; }
  :target{ scroll-margin-top:80px; }

  body{
    margin:0;
    font:16px/1.6 'Inter', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    color:var(--text);
    background:var(--bg);
  }
  h1,h2,h3{ font-family:"Playfair Display", serif; margin:0 0 10px; color:var(--accent); }
  a{ color:var(--accent); text-decoration:none; transition:color .2s ease; }
  a:hover{ color:var(--accent-alt); }
  .container{ max-width:1100px; margin:0 auto; padding:32px 20px; }

  /* Nav */
  .nav{
    position:sticky; top:0; z-index:10;
    display:flex; justify-content:space-between; align-items:center;
    font-family:"Playfair Display", serif;
    padding:16px 20px; margin-bottom:28px;
    background:linear-gradient(135deg,#f2f3f4 0%, #eaeaea 100%);
    border-bottom:1px solid var(--neutral);
  }
  .brand{ font-weight:800; font-size:24px; color:var(--accent); }
  .nav a{ margin-left:16px; color:var(--muted); padding:6px 8px; border-radius:8px; }
  .nav a:hover{ color:#fff; background:var(--accent); }
  .nav a.active{ color:#fff; background:var(--accent-alt); }

  /* Cards */
  .card{
    background:var(--card);
    border-radius:14px;
    padding:24px;
    box-shadow:0 2px 8px rgba(0,0,0,.08);
    border-top:4px solid var(--accent);
    transition:box-shadow .18s ease, border-color .18s ease;
    display:flex; flex-direction:column;
  }
  .card:hover{ box-shadow:0 8px 22px rgba(0,0,0,.16); border-top-color:var(--accent-alt); }

  /* Layouts */
  .hero{ display:grid; grid-template-columns: 1.4fr 360px; gap:24px; grid-auto-rows: 1fr; align-items:stretch; }
  .hero-main{ grid-row: span 2; height:100%; align-self:stretch; }
  .hero-side{ grid-column: 2; height:100%; align-self:stretch; }
  .section{ margin-top:56px; border-top:2px solid var(--neutral); padding-top:40px; }
  .two-col{ display:grid; grid-template-columns:1fr 1fr; gap:24px; }
  .grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:24px; }

  /* Headshot */
  .headshot{ width:160px; height:160px; border-radius:50%; object-fit:cover; margin-bottom:14px; box-shadow:0 2px 8px rgba(0,0,0,.14); }

  /* Skills pills */
  .pill{ display:inline-block; padding:6px 12px; border-radius:999px; font-size:14px; margin:6px 8px 0 0; background:transparent; border:1px solid #a7a59a; color:#0f2a45; }
  .skills h4{ margin:12px 0 4px; color:var(--muted); font-weight:600; letter-spacing:.02em; font-size:14px; }

  /* Buttons */
  .btn{ display:inline-block; padding:10px 14px; border-radius:10px; font-weight:600; background:var(--accent); color:#fff; text-decoration:none; transition:transform .05s ease, background .2s ease; }
  .btn:hover{ background:var(--accent-alt); }
  .btn:active{ transform:translateY(1px); }
  .btn--ghost{ display:inline-block; padding:10px 14px; border-radius:10px; font-weight:600; border:1px solid var(--neutral); color:var(--accent); background:transparent; text-decoration:none; }
  .btn--ghost:hover{ border-color:var(--accent); color:var(--accent-hover); }

  /* Slightly smaller resume card variant */
  .resume-card{ padding:16px; border-radius:12px; border-top-width:3px; font-size:0.98rem; }
  .resume-cta{ display:flex; flex-direction:column; gap:12px; }
  .resume-cta__row{ display:flex; gap:14px; flex-wrap:wrap; }
  .resume-cta small{ color:var(--muted); }

  /* Clickable cards */
  .openable{ cursor:pointer; user-select:none; }

  /* Modal */
  .modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,.60); padding:24px; z-index:1000; }
  .modal[open]{ display:flex; }
  .modal__panel{ background:#fff; color:#1f2937; width:min(1100px, 96vw); max-height:90vh; border-radius:16px; overflow:auto; box-shadow:0 20px 60px rgba(0,0,0,.35); border-top:6px solid var(--accent); }
  .modal__head{ position:sticky; top:0; background:linear-gradient(#ffffff, #ffffffee); display:flex; justify-content:space-between; align-items:center; padding:16px 20px; border-bottom:1px solid var(--neutral); z-index:1; }
  .modal__title{ margin:0; font-family:"Playfair Display", serif; font-size:22px; color:var(--accent); }
  .modal__close{ border:none; background:#f3f4f6; padding:8px 12px; border-radius:10px; cursor:pointer; }
  .modal__close:hover{ background:var(--accent-alt); color:#fff; }
  .modal__body{ padding:20px; display:grid; grid-template-columns: 1fr; gap:16px; }
  .modal__meta{ color:var(--muted); font-size:14px; }
  .figure{ background:#fafafa; border:1px solid var(--neutral); border-radius:12px; padding:10px; }
  .figure img{ width:100%; height:auto; display:block; border-radius:8px; }
  .figure figcaption{ font-size:13px; color:#64748b; margin-top:8px; }

  pre{ background:#0b1020; color:#e5e7eb; padding:12px; border-radius:10px; overflow:auto; }

  /* Image Credits */
  .image-credits{ 
    background:#f8f9fa; 
    border:1px solid var(--neutral); 
    border-radius:8px; 
    padding:12px; 
    margin-top:24px; 
    font-size:12px; 
    color:var(--muted); 
  }
  .image-credits h4{ 
    margin:0 0 8px; 
    font-size:13px; 
    color:var(--accent); 
    font-weight:600; 
  }
  .image-credits ul{ 
    margin:0; 
    padding-left:16px; 
    list-style:none; 
  }
  .image-credits li{ 
    margin:4px 0; 
    position:relative; 
  }
  .credits-btn{ 
    display:inline-block; 
    padding:6px 10px; 
    font-size:12px; 
    color:var(--muted); 
    background:#f3f4f6; 
    border:1px solid var(--neutral); 
    border-radius:6px; 
    cursor:pointer; 
    text-decoration:none; 
    margin-top:16px; 
  }
  .credits-btn:hover{ 
    background:var(--accent); 
    color:#fff; 
    border-color:var(--accent); 
  }

  @media (max-width: 900px){
    .hero{ grid-template-columns:1fr; }
    .hero-main{ grid-row:auto; }
    .hero-side{ grid-column:auto; }
    .two-col{ grid-template-columns:1fr; }
  }
</style>
</head>
<body>
  <div class="nav">
    <div class="brand">Kalan Brunell</div>
    <div>
      <a href="#about">About</a>
      <a href="#experience">Experience</a>
      <a href="#projects">Projects</a>
      <a href="#skills">Skills</a>
      <a href="#contact">Contact</a>
    </div>
  </div>

  <div class="container">
    <!-- HERO -->
    <section id="about" class="hero">
      <!-- Left column (spans two rows) -->
      <div class="card hero-main">
        <div style="display:flex; align-items:center; gap:20px; min-height:160px;">
          <img src="headshot.jpg" alt="Headshot of Kalan Brunell" class="headshot" style="margin-left:12px;" />
          <span style="font-size:2.2rem; font-weight:700; color:var(--accent); font-family:'Playfair Display', serif; margin-left:48px;">Kalan Brunell</span>
        </div>
        <p style="margin-top:6px; color:var(--muted); font-weight:600;">Computer Engineering | Robotics and Embedded Systems</p>
        <h2>About Me</h2>
        <p>
          I'm a third-year Computer Engineering student at Tufts University, concentrating on embedded systems and digital design. 
          My work has included developing vision pipelines for both competitive and industrial robotics, writing STM32 firmware for real-time monitoring, 
          and engineering all-electric automotive systems from the ground up. I enjoy tackling complex problems that require expertise in both 
          hardware and software, and I aim to create solutions that are reliable, efficient, and practical.
      </div>

      <!-- Right column (row 1) -->
      <div class="card hero-side" id="contact">
        <h2>Contact</h2>
        <p>Email: <a href="mailto:kbrune06@gmail.com">kbrune06@gmail.com</a></p>
        <p>LinkedIn: <a href="https://www.linkedin.com/in/kalan-brunell-50b65b286/" target="_blank" rel="noopener">kalan-brunell-50b65b286</a></p>
      </div>

      <!-- Right column (row 2) — Resume card stacked under Contact -->
      <div class="card hero-side resume-card">
        <h2>Resume</h2>
        <div style="display:flex; gap:14px; flex-wrap:wrap;">
          <a class="btn" href="resume.pdf" download>Download Resume (PDF)</a>
        </div>
      </div>
    </section>

    <!-- Engineering Experience -->
    <section id="experience" class="section">
      <h2>Engineering Experience</h2>
      <div class="two-col">
        <!-- Expandable card: key matches template id below (tmpl-exp-gentex) -->
        <div class="card openable" data-open-modal="exp-gentex" tabindex="0" role="button" aria-label="Open Gentex internship details">
          <h3>Manufacturing Engineering Intern</h3>
          <h4 style="margin-top: 0.2em;">Gentex Corporation · Manchester, NH</h4>
          <!-- PREVIEW CONTENT (visible on the card before opening) -->
          -Summer 2025-
          <ul>
            <li>Tasked with developing a 2D Computer Vision System capable of standalone product 
              inspection and manufacturing automation integration.</li>
            <li>Responsible for product manufacturing and documentation sustainment.</li>
          </ul>
          <p style="color:var(--muted); font-size:14px; margin-top:8px;">View more details →</p>
        </div>

        <aside class="card">
          <h3>At a Glance — Engineering Extracurriculars</h3>
          <ul>
            <li><strong>Formula Hybrid-Electric (FSAE) — Tufts Electric Racing</strong><br /></li>
            <li>Accumulator Project Manager 2025 - Current</li>
            <li>Electrical Engineer 2024 - 2025</li>
            <p></p>
            <li><strong>FIRST Robotics — Lakerbots 8046</strong><br /></li>
            <li>Team Captain 2022 - 2023</li>
            <li>Lead Engineer 2022 - 2023</li>
          </ul>
        </aside>
      </div>
    </section>

    <!-- Projects -->
    <section id="projects" class="section">
      <h2>Projects</h2>
      <div class="grid">
        <!-- Keys have NO spaces and match template ids (tmpl-proj-*) -->

        <div class="card openable" data-open-modal="proj-accumulator" tabindex="0" role="button" aria-label="Open EV Accumulator details">
          <h3>High-Voltage EV Accumulator</h3>
          <h4 style="margin-top: 0.2em;">Tufts Electric Racing · Project Manager</h4>
          <!-- PREVIEW CONTENT (visible on the card before opening) -->
          <ul>
            <li>Lead development of 400V lithium-ion battery system for Formula SAE competition vehicle</li>
            <li>Designed custom PCBs for battery management and CAN communication using Altium Designer</li>
            <li>Implemented safety systems including high-voltage interlocks and emergency shutdown circuits</li>
          </ul>
          <p style="color:var(--muted); font-size:14px;">View details →</p>
        </div>

        <div class="card openable" data-open-modal="proj-vision" tabindex="0" role="button" aria-label="Open Vision System details">
          <h3>Robotic Vision Pipeline</h3>
          <h4 style="margin-top: 0.2em;">FIRST Robotics Competition</h4>
          <!-- PREVIEW CONTENT -->
          <ul>
            <li>Developed computer vision system using OpenCV and Limelight for autonomous robot targeting</li>
            <li>Implemented real-time object detection and tracking for competitive gameplay</li>
            <li>Optimized algorithms for consistent performance under varying lighting conditions</li>
          </ul>
          <p style="color:var(--muted); font-size:14px;">View details →</p>
        </div>

        <div class="card openable" data-open-modal="proj-arm" tabindex="0" role="button" aria-label="Open ARM Processor details">
          <h3>5-Stage Pipelined ARM Processor</h3>
          <h4 style="margin-top: 0.2em;">Computer Architecture Course</h4>
          <!-- PREVIEW CONTENT -->
          <ul>
            <li>Designed complete processor in VHDL with instruction fetch, decode, execute, memory, and writeback stages</li>
            <li>Implemented hazard detection and data forwarding for performance optimization</li>
            <li>Verified functionality through comprehensive testbenches and GTKWave simulation</li>
          </ul>
          <p style="color:var(--muted); font-size:14px;">View details →</p>
        </div>

        <div class="card openable" data-open-modal="proj-stm32" tabindex="0" role="button" aria-label="Open STM32 Monitor details">
          <h3>Real-Time Environmental Monitor</h3>
          <h4 style="margin-top: 0.2em;">Embedded Systems Project</h4>
          <!-- PREVIEW CONTENT -->
          <ul>
            <li>Developed STM32-based monitoring system with multiple sensor inputs</li>
            <li>Implemented FreeRTOS for multi-tasking and real-time data acquisition</li>
            <li>Created web interface for remote monitoring and data visualization</li>
          </ul>
          <p style="color:var(--muted); font-size:14px;">View details →</p>
        </div>

        <div class="card openable" data-open-modal="proj-fpga" tabindex="0" role="button" aria-label="Open FPGA Game details">
          <h3>FPGA 2048 Game</h3>
          <h4 style="margin-top: 0.2em;">Digital Logic Design</h4>
          <!-- PREVIEW CONTENT -->
          <ul>
            <li>Implemented complete 2048 game using only VHDL on iCE40 FPGA</li>
            <li>Designed VGA controller for 640x480 display with custom graphics pipeline</li>
            <li>Created game logic, input handling, and score system entirely in hardware</li>
          </ul>
          <p style="color:var(--muted); font-size:14px;">View details →</p>
        </div>
      </div>
    </section>

    <!-- Skills -->
    <section id="skills" class="section">
      <h2>Skills</h2>
      <div class="skills">
        <h4>Programming</h4>
        <span class="pill">C/C++</span>
        <span class="pill">Python</span>
        <span class="pill">FreeRTOS</span>
        <span class="pill">CMSIS</span>
        <span class="pill">ARM Assembly</span>
        <span class="pill">Object-Oriented Programming</span>

        <h4>Embedded &amp; Electronics</h4>
        <span class="pill">FPGA</span>
        <span class="pill">VHDL</span>
        <span class="pill">Digital Logic Design</span>
        <span class="pill">GTKWave</span>
        <span class="pill">UART</span>
        <span class="pill">CAN</span>
        <span class="pill">I²C</span>

        <h4>PCB &amp; Circuit Design</h4>
        <span class="pill">Altium Designer</span>
        <span class="pill">KiCad</span>
        <span class="pill">LTspice</span>
        <span class="pill">Benchtop Tools</span>

        <h4>Robotics &amp; Automation</h4>
        <span class="pill">OpenCV</span>
        <span class="pill">Limelight</span>
        <span class="pill">Robotic Control</span>
        <span class="pill">PLC Programming</span>

        <h4>Tools</h4>
        <span class="pill">Solidworks</span>
        <span class="pill">Onshape</span>
        <span class="pill">MATLAB</span>
        <span class="pill">Git</span>
        <span class="pill">LaTeX</span>
        <span class="pill">ECOs</span>
        <span class="pill">Microsoft Office</span>
      </div>
    </section>
  </div>

  <!-- MODAL DIALOG -->
  <div class="modal" id="modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-describedby="modal-body">
    <div class="modal__panel" role="document">
      <div class="modal__head">
        <h3 class="modal__title" id="modal-title">Details</h3>
        <button class="modal__close" id="modal-close" aria-label="Close">✕</button>
      </div>
      <div class="modal__body" id="modal-body"></div>
    </div>
  </div>

  <!-- ========================= -->
  <!-- CONTENT TEMPLATES (OPENED) -->
  <!-- Add/edit the content that shows INSIDE the modal after a card is opened. -->
  <!-- ========================= -->

  <!-- Engineering Experience → Gentex -->
  <template id="tmpl-exp-gentex">
    <!-- OPENED CONTENT (shows inside the modal) -->
    <div class="modal__meta">Manufacturing Engineering Intern · Summer 2025 · Gentex Corporation, Manchester NH</div>
    
    <div style="background: #f8f9fa; border-left: 4px solid var(--accent); padding: 16px; border-radius: 8px; margin-bottom: 20px;">
      <p><strong>Primary Objective:</strong> Develop and deploy a standalone 2D Computer Vision System capable of production-level product inspection and seamless integration with existing manufacturing automation infrastructure.</p>
    </div>

    <h3 style="color: var(--accent); margin-top: 24px; margin-bottom: 12px;">Day-to-Day Responsibilities</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; margin-bottom: 24px;">
      <div style="background: #fafafa; padding: 14px; border-radius: 8px; border: 1px solid #e5e7eb;">
        <h4 style="color: var(--accent-alt); margin-top: 0;">Vision System Development</h4>
        <p style="margin: 0; font-size: 14px;">Programmed Python-based vision system with OpenCV to serve as a proof of concept before diving into industrial solutions.</p>
      </div>
      <div style="background: #fafafa; padding: 14px; border-radius: 8px; border: 1px solid #e5e7eb;">
        <h4 style="color: var(--accent-alt); margin-top: 0;">Industrial Integration</h4>
        <p style="margin: 0; font-size: 14px;">Configuring vision systems for seamless communication with Fanuc robotic arms and existing production line equipment.</p>
      </div>
      <div style="background: #fafafa; padding: 14px; border-radius: 8px; border: 1px solid #e5e7eb;">
        <h4 style="color: var(--accent-alt); margin-top: 0;">Manufacturing Support</h4>
        <p style="margin: 0; font-size: 14px;">Sustaining product manufacturing processes and maintaining comprehensive technical documentation for production teams.</p>
      </div>
    </div>

    <h3 style="color: var(--accent); margin-top: 24px; margin-bottom: 16px;">Project Development Journey</h3>
    
    <p style="line-height: 1.7; margin-bottom: 20px;">
      My work at Gentex centered on supplementing manual inspection processes with a reliable, automated inspection system. 
      Working with manufacturing engineers, I identified critical inspection points where automated vision could improve both accuracy and throughput.
      The prototype system was developed using Python and OpenCV, running on a Raspberry Pi 5. This was designed to create a proof of concept that could be tested in a controlled environment and 
      continually refined to work towards a production-ready solution.
      The vision system was designed to operate under the variable lighting conditions of a manufacturing environment, using contour detection and blob analysis to compare captured images against defined tolerances for product quality. 

    </p>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin: 20px 0;">
      <figure class="figure">
        <img src="contourExample.jpg" alt="Contour Example" />
        <figcaption>Camera and lighting configuration optimized for production environment conditions.</figcaption>
      </figure>
      <figure class="figure">
        <img src="images/gentex-robot-integration.jpg" alt="Fanuc robot arm integrated with vision system" />
        <figcaption>Fanuc robotic arm responding to real-time vision system commands for automated sorting.</figcaption>
      </figure>
    </div>

    <p style="line-height: 1.7; margin-bottom: 20px;">
      The technical implementation required developing Python and OpenCV algorithms capable of handling variable manufacturing lighting conditions while distinguishing between acceptable tolerances and genuine defects. Integration with existing Fanuc robotic infrastructure demanded real-time communication protocols that could transmit pass/fail decisions within strict production timing requirements.
    </p>

    <p style="line-height: 1.7; margin-bottom: 16px;">
      Beyond the core vision system, I developed automated barcode scanning solutions that eliminated packaging bottlenecks and designed forward-thinking fixtures for future products, ensuring they would be "vision-ready" from the start of their manufacturing lifecycle.
    </p>

    <div style="background: #f1f5f9; padding: 14px; border-radius: 8px; margin-top: 20px;">
      <p style="margin: 0; font-size: 14px;"><strong style="color: var(--accent);">Technical Stack:</strong> Python, OpenCV, GPIO/Industrial I/O, Ethernet/Field I/O, Image Thresholding, Morphological Operations, Camera Calibration, Fanuc Robot Programming</p>
    </div>

    <div class="image-credits">
      <h4>Image Credits</h4>
      <ul>
        <li><strong>Contour Example:</strong> Image credit: PyImageSearch – “Finding extreme points in contours with OpenCV” (April 11 2016).</li>
        <li><strong>Robot Integration:</strong> Custom photography - Fanuc robotic arm integration during production testing</li>
      </ul>
      <p style="margin:8px 0 0; font-size:11px; font-style:italic;">All images are original work created during internship project development and testing phases. Images used with permission for portfolio demonstration purposes.</p>
    </div>
    
    <!-- Optional image example
    <figure class="figure">
      <img src="images/gentex-cell.jpg" alt="Gentex vision inspection cell" />
      <figcaption>Vision cell prototype prior to deployment.</figcaption>
    </figure> -->
  </template>

  <!-- Projects → EV Accumulator -->
  <template id="tmpl-proj-accumulator">
    <!-- OPENED CONTENT (shows inside the modal) -->
    <div class="modal__meta">High-Voltage Accumulator Design · FSAE Competition · 2024–2025</div>
    
    <div style="background: #f8f9fa; border-left: 4px solid var(--accent); padding: 16px; border-radius: 8px; margin-bottom: 20px;">
      <p><strong>Project Mission:</strong> Engineer a competition-grade EV accumulator system that prioritizes safety, performance, and serviceability while meeting strict FSAE regulatory requirements.</p>
    </div>

    <p style="line-height: 1.7; margin-bottom: 20px;">
      Designing a high-voltage accumulator for Formula SAE presents unique challenges that blend electrical engineering precision with motorsport durability requirements. As Accumulator Project Manager, I led the development of a system capable of delivering consistent power to our electric race car while maintaining the highest safety standards for both competition and testing environments.
    </p>

    <figure class="figure" style="margin: 20px 0;">
      <img src="images/accumulator-cad-overview.jpg" alt="Complete accumulator system CAD design" />
      <figcaption>Complete accumulator assembly showing cell configuration, cooling system, and safety interlocks.</figcaption>
    </figure>

    <p style="line-height: 1.7; margin-bottom: 20px;">
      The foundation of the system lies in optimizing lithium-ion cell configuration to match our motor controller specifications while ensuring effective thermal management. Each cell placement required careful consideration of current distribution, thermal coupling, and maintenance accessibility—critical factors when dealing with a system that student mechanics must service safely between competition runs.
    </p>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin: 20px 0;">
      <figure class="figure">
        <img src="images/accumulator-pcb-design.jpg" alt="Battery management PCB layout in Altium Designer" />
        <figcaption>Custom battery management PCB designed in Altium Designer featuring CAN communication and thermistor monitoring.</figcaption>
      </figure>
      <figure class="figure">
        <img src="images/accumulator-assembly.jpg" alt="Physical accumulator assembly process" />
        <figcaption>Accumulator assembly process showing high-voltage insulation and integrated fusing implementation.</figcaption>
      </figure>
    </div>

    <p style="line-height: 1.7; margin-bottom: 20px;">
      The electrical architecture centers around custom PCBs developed in Altium Designer, integrating battery management functions with CAN communication capabilities. These boards monitor individual cell voltages and temperatures while providing real-time data to the vehicle's control systems. The challenge was creating a robust communication network that could operate reliably in the high-vibration, electromagnetic interference environment of competitive racing.
    </p>

    <figure class="figure" style="margin: 20px 0;">
      <img src="images/accumulator-testing.jpg" alt="Accumulator system undergoing electrical testing" />
      <figcaption>Comprehensive electrical testing to verify FSAE compliance and validate safety systems before competition deployment.</figcaption>
    </figure>

    <p style="line-height: 1.7; margin-bottom: 16px;">
      Safety integration required designing multiple layers of protection including integrated fusing, high-voltage interlocks, and emergency shutdown capabilities. Every connection point and insulation barrier was engineered to exceed FSAE requirements, ensuring both competition safety and long-term reliability throughout the racing season.
    </p>

    <div style="background: #f1f5f9; padding: 14px; border-radius: 8px; margin-top: 20px;">
      <p style="margin: 0; font-size: 14px;"><strong style="color: var(--accent);">Technical Implementation:</strong> Altium Designer, CAN Protocol, High-Voltage Safety Systems, Lithium-Ion Battery Management, Thermal Analysis, FSAE Regulations Compliance</p>
    </div>

    <div class="image-credits">
      <h4>Image Credits</h4>
      <ul>
        <li><strong>CAD Overview:</strong> SolidWorks rendering - Custom accumulator assembly design</li>
        <li><strong>PCB Design:</strong> Altium Designer screenshot - Battery management PCB layout</li>
        <li><strong>Assembly Process:</strong> Tufts Electric Racing team photography - Assembly documentation</li>
        <li><strong>Testing Setup:</strong> Custom photography - Electrical validation and compliance testing</li>
      </ul>
      <p style="margin:8px 0 0; font-size:11px; font-style:italic;">Images courtesy of Tufts Electric Racing team project documentation. CAD renders and PCB layouts are original design work.</p>
    </div>
  </template>

  <!-- Projects → Vision System -->
  <template id="tmpl-proj-vision">
    <!-- OPENED CONTENT (shows inside the modal) -->
    <div class="modal__meta">Computer Vision · OpenCV · Robotics · FIRST Competition · 2022-2023</div>
    
    <div style="background: #f8f9fa; border-left: 4px solid var(--accent); padding: 16px; border-radius: 8px; margin-bottom: 20px;">
      <p><strong>Project Mission:</strong> Develop a robust computer vision system for autonomous robot targeting in competitive FIRST Robotics environment with real-time performance requirements.</p>
    </div>

    <p style="line-height: 1.7; margin-bottom: 20px;">
      Leading the vision system development for FIRST Robotics Competition required creating algorithms that could perform reliably under the unpredictable conditions of competitive gameplay. As Team Captain and Lead Engineer, I developed a comprehensive computer vision pipeline that enabled our robot to autonomously identify and track targets while maintaining the precision needed for successful scoring in high-stakes tournament matches.
    </p>

    <figure class="figure" style="margin: 20px 0;">
      <img src="images/vision-competition-setup.jpg" alt="Robot competing with vision system active" />
      <figcaption>Competition robot utilizing vision system for autonomous targeting during FIRST Robotics tournament gameplay.</figcaption>
    </figure>

    <p style="line-height: 1.7; margin-bottom: 20px;">
      The technical foundation centered around OpenCV implementation running on a Limelight vision processor, specifically optimized for the lighting challenges present in competition venues. I developed filtering algorithms that could distinguish between valid targets and visual noise while maintaining sub-100ms response times necessary for effective autonomous operation during the brief autonomous periods of matches.
    </p>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin: 20px 0;">
      <figure class="figure">
        <img src="images/vision-limelight-interface.jpg" alt="Limelight vision processor configuration" />
        <figcaption>Limelight vision processor setup with custom filtering parameters for target detection and tracking.</figcaption>
      </figure>
      <figure class="figure">
        <img src="images/vision-target-tracking.jpg" alt="Real-time target tracking display" />
        <figcaption>Real-time target tracking interface showing detection confidence and positioning data during autonomous operation.</figcaption>
      </figure>
    </div>

    <p style="line-height: 1.7; margin-bottom: 20px;">
      Algorithm optimization focused on handling the dramatic lighting variations encountered across different competition venues—from bright arena lighting to shadowed field areas. I implemented adaptive thresholding techniques and developed calibration procedures that allowed rapid adjustment between matches, ensuring consistent performance regardless of environmental conditions.
    </p>

    <figure class="figure" style="margin: 20px 0;">
      <img src="images/vision-field-testing.jpg" alt="Field testing of vision system" />
      <figcaption>Extensive field testing validating vision system performance across various lighting conditions and target configurations.</figcaption>
    </figure>

    <p style="line-height: 1.7; margin-bottom: 16px;">
      Integration with the robot's control system required developing robust communication protocols that could relay targeting data to the drivetrain and manipulator systems. The vision pipeline provided both absolute positioning and relative movement vectors, enabling smooth autonomous navigation and precise target acquisition throughout the 15-second autonomous periods that often determined match outcomes.
    </p>

    <div style="background: #f1f5f9; padding: 14px; border-radius: 8px; margin-top: 20px;">
      <p style="margin: 0; font-size: 14px;"><strong style="color: var(--accent);">Technical Implementation:</strong> OpenCV, Limelight Vision Processor, Real-Time Image Processing, Adaptive Thresholding, Target Tracking Algorithms, Robot Navigation Integration, Competition Environment Optimization</p>
    </div>

    <div class="image-credits">
      <h4>Image Credits</h4>
      <ul>
        <li><strong>Competition Setup:</strong> FIRST Robotics team photography - Competition robot in action</li>
        <li><strong>Limelight Interface:</strong> Custom screenshot - Vision processor configuration interface</li>
        <li><strong>Target Tracking:</strong> Custom screenshot - Real-time detection and tracking display</li>
        <li><strong>Field Testing:</strong> Lakerbots 8046 team photography - Pre-competition validation testing</li>
      </ul>
      <p style="margin:8px 0 0; font-size:11px; font-style:italic;">Competition and testing images courtesy of Lakerbots 8046 FRC Team. Interface screenshots are original development work.</p>
    </div>
  </template>

  <!-- Projects → STM32 Environmental Monitor -->
  <template id="tmpl-proj-stm32">
    <!-- OPENED CONTENT (shows inside the modal) -->
    <div class="modal__meta">STM32 Embedded Systems · FreeRTOS · IoT Development · 2024</div>
    
    <div style="background: #f8f9fa; border-left: 4px solid var(--accent); padding: 16px; border-radius: 8px; margin-bottom: 20px;">
      <p><strong>Project Mission:</strong> Design a comprehensive real-time environmental monitoring system using STM32 microcontroller with multi-sensor integration and remote web interface capabilities.</p>
    </div>

    <p style="line-height: 1.7; margin-bottom: 20px;">
      Developing a professional-grade environmental monitoring system required balancing real-time performance constraints with the complexity of managing multiple sensor inputs, data processing, and network communication. This project challenged me to implement advanced embedded systems concepts including real-time operating systems, interrupt-driven programming, and IoT connectivity within the resource constraints of microcontroller hardware.
    </p>

    <figure class="figure" style="margin: 20px 0;">
      <img src="images/stm32-system-overview.jpg" alt="Complete STM32 monitoring system setup" />
      <figcaption>Complete environmental monitoring system showing STM32 controller, sensor array, and network connectivity module.</figcaption>
    </figure>

    <p style="line-height: 1.7; margin-bottom: 20px;">
      The core architecture utilizes FreeRTOS to manage concurrent tasks including sensor data acquisition, signal processing, network communication, and local data logging. Each sensor—temperature, humidity, air quality, and light—operates on independent task schedules optimized for their specific sampling requirements while maintaining system responsiveness and power efficiency.
    </p>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin: 20px 0;">
      <figure class="figure">
        <img src="images/stm32-pcb-design.jpg" alt="Custom PCB layout for sensor integration" />
        <figcaption>Custom PCB design integrating STM32 controller with sensor interfaces and power management circuitry.</figcaption>
      </figure>
      <figure class="figure">
        <img src="images/stm32-sensor-array.jpg" alt="Sensor array configuration and calibration" />
        <figcaption>Multi-sensor array with precision calibration setup for accurate environmental data collection.</figcaption>
      </figure>
    </div>

    <p style="line-height: 1.7; margin-bottom: 20px;">
      Data processing involves implementing digital filtering algorithms to smooth sensor readings while detecting significant environmental changes. The system maintains local data buffers with configurable retention periods, enabling trend analysis and historical data retrieval. Critical threshold monitoring provides immediate alerting capabilities for out-of-range conditions.
    </p>

    <figure class="figure" style="margin: 20px 0;">
      <img src="images/stm32-web-interface.jpg" alt="Web interface showing real-time monitoring dashboard" />
      <figcaption>Real-time web dashboard displaying environmental data with historical trends and alert management.</figcaption>
    </figure>

    <p style="line-height: 1.7; margin-bottom: 16px;">
      The web interface development required implementing lightweight HTTP server functionality on the microcontroller while maintaining real-time performance. Users can access live data streams, configure sampling parameters, set alert thresholds, and download historical data logs through an intuitive browser-based interface that adapts to both desktop and mobile devices.
    </p>

    <div style="background: #f1f5f9; padding: 14px; border-radius: 8px; margin-top: 20px;">
      <p style="margin: 0; font-size: 14px;"><strong style="color: var(--accent);">Technical Implementation:</strong> STM32 HAL Programming, FreeRTOS Task Management, Multi-Sensor Integration, Digital Signal Processing, HTTP Server Implementation, IoT Connectivity, Real-Time Data Acquisition</p>
    </div>

    <div class="image-credits">
      <h4>Image Credits</h4>
      <ul>
        <li><strong>System Overview:</strong> Custom photography - Complete monitoring system hardware setup</li>
        <li><strong>PCB Design:</strong> KiCad/Altium screenshot - Custom sensor integration PCB layout</li>
        <li><strong>Sensor Array:</strong> Custom photography - Multi-sensor calibration and configuration</li>
        <li><strong>Web Interface:</strong> Custom screenshot - Real-time monitoring dashboard interface</li>
      </ul>
      <p style="margin:8px 0 0; font-size:11px; font-style:italic;">All images are original work from independent embedded systems project. Hardware photography and software interface screenshots are personal development work.</p>
    </div>
  </template>

  <!-- Projects → 5-Stage ARM Processor -->
  <template id="tmpl-proj-arm">
    <!-- OPENED CONTENT (shows inside the modal) -->
    <div class="modal__meta">Digital Design · VHDL Architecture · Pipelined Processors · 2024</div>
    
    <div style="background: #f8f9fa; border-left: 4px solid var(--accent); padding: 16px; border-radius: 8px; margin-bottom: 20px;">
      <p><strong>Project Mission:</strong> Engineer a complete 5-stage pipelined processor from scratch, implementing advanced concepts like hazard detection and data forwarding entirely in VHDL.</p>
    </div>

    <p style="line-height: 1.7; margin-bottom: 20px;">
      Building a processor from the ground up provides deep insights into computer architecture that no amount of theoretical study can match. This project required understanding every logic gate, every timing constraint, and every data path that enables modern computing. Starting with basic building blocks, I constructed a complete processing pipeline capable of executing ARM-like instructions with performance optimizations.
    </p>

    <figure class="figure" style="margin: 20px 0;">
      <img src="images/arm-architecture-diagram.jpg" alt="5-stage ARM processor architecture overview" />
      <figcaption>Complete processor architecture showing the five pipeline stages: Instruction Fetch, Instruction Decode, Execute, Memory Access, and Write Back.</figcaption>
    </figure>

    <p style="line-height: 1.7; margin-bottom: 20px;">
      The pipelining implementation follows the classic five-stage approach: Instruction Fetch, Instruction Decode, Execute, Memory Access, and Write Back. Each stage operates concurrently with others, creating a processing pipeline that can theoretically complete one instruction per clock cycle. However, the real complexity emerges when handling data hazards—situations where instructions depend on results from previous instructions still moving through the pipeline.
    </p>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin: 20px 0;">
      <figure class="figure">
        <img src="images/arm-vhdl-code.jpg" alt="VHDL code implementation showing control unit logic" />
        <figcaption>Control unit VHDL implementation managing instruction decoding and pipeline control signals.</figcaption>
      </figure>
      <figure class="figure">
        <img src="images/arm-alu-design.jpg" alt="Arithmetic Logic Unit design and implementation" />
        <figcaption>Custom ALU design built from fundamental logic operations, supporting arithmetic and logical instructions.</figcaption>
      </figure>
    </div>

    <p style="line-height: 1.7; margin-bottom: 20px;">
      Hazard detection and data forwarding required implementing sophisticated control logic that could identify when instructions needed data not yet available and either forward results from later pipeline stages or insert pipeline stalls. This involved creating forwarding paths between the Execute and Write Back stages while maintaining timing integrity across the entire processor.
    </p>

    <figure class="figure" style="margin: 20px 0;">
      <img src="images/arm-gtkwave-simulation.jpg" alt="GTKWave simulation showing processor timing and signals" />
      <figcaption>GTKWave simulation demonstrating pipeline operation, hazard detection, and data forwarding in action during instruction execution.</figcaption>
    </figure>

    <p style="line-height: 1.7; margin-bottom: 16px;">
      Verification involved developing comprehensive testbenches that could automatically validate processor functionality across various instruction sequences. Using GTKWave for waveform analysis, I could observe signal propagation through each pipeline stage, verify timing relationships, and debug complex interactions between hazard detection logic and data forwarding mechanisms.
    </p>

    <div style="background: #f1f5f9; padding: 14px; border-radius: 8px; margin-top: 20px;">
      <p style="margin: 0; font-size: 14px;"><strong style="color: var(--accent);">Technical Implementation:</strong> VHDL Architecture Design, Pipeline Implementation, Hazard Detection Logic, Data Forwarding, Control Unit Design, ALU Development, GTKWave Simulation, Testbench Verification</p>
    </div>

    <div class="image-credits">
      <h4>Image Credits</h4>
      <ul>
        <li><strong>Architecture Diagram:</strong> Custom design - Processor pipeline architecture visualization</li>
        <li><strong>VHDL Code:</strong> Custom screenshot - Control unit implementation in development environment</li>
        <li><strong>ALU Design:</strong> Custom screenshot - Arithmetic logic unit VHDL implementation</li>
        <li><strong>GTKWave Simulation:</strong> Custom screenshot - Processor timing analysis and waveform verification</li>
      </ul>
      <p style="margin:8px 0 0; font-size:11px; font-style:italic;">All images are original academic work from Computer Architecture coursework. Code screenshots and simulations are personal development work.</p>
    </div>
  </template>

  <!-- Projects → FPGA 2048 Game -->
  <template id="tmpl-proj-fpga">
    <!-- OPENED CONTENT (shows inside the modal) -->
    <div class="modal__meta">FPGA Game Development · VGA Graphics · Digital Design · 2024</div>
    
    <div style="background: #f8f9fa; border-left: 4px solid var(--accent); padding: 16px; border-radius: 8px; margin-bottom: 20px;">
      <p><strong>Project Mission:</strong> Recreate the complete 2048 gaming experience using only VHDL on an FPGA, including graphics rendering, game logic, and user input—no software allowed.</p>
    </div>

    <p style="line-height: 1.7; margin-bottom: 20px;">
      Creating a complete video game using only hardware description language presents unique challenges that blur the line between software and hardware engineering. Every algorithm, every pixel, and every user interaction must be implemented through carefully designed digital circuits. This project pushed the boundaries of what's possible with pure VHDL implementation on resource-constrained FPGA hardware.
    </p>

    <figure class="figure" style="margin: 20px 0;">
      <img src="images/arcade-game-screenshot.jpg" alt="2048 game running on FPGA with VGA output" />
      <figcaption>Complete 2048 game implementation displaying on VGA monitor, showing tile animations and score tracking.</figcaption>
    </figure>

    <p style="line-height: 1.7; margin-bottom: 20px;">
      The foundation required implementing VGA timing generation from scratch—creating the precise HSYNC and VSYNC signals needed for stable video output. This involved understanding the exact timing requirements of VGA standards and designing counters and state machines that could generate the necessary synchronization signals while maintaining pixel-perfect timing across the entire display area.
    </p>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin: 20px 0;">
      <figure class="figure">
        <img src="images/arcade-vga-timing.jpg" alt="VGA timing diagram and implementation" />
        <figcaption>VGA timing implementation showing horizontal and vertical sync generation with pixel clock management.</figcaption>
      </figure>
      <figure class="figure">
        <img src="images/arcade-tile-renderer.jpg" alt="Tile rendering system architecture" />
        <figcaption>Custom tile rendering system capable of displaying game board, numbers, and animations in real-time.</figcaption>
      </figure>
    </div>

    <p style="line-height: 1.7; margin-bottom: 20px;">
      Game logic implementation required translating the mathematical concepts of 2048 into finite state machines and combinational logic. The challenge involved managing the 4x4 game grid, implementing tile movement algorithms, handling collision detection, and maintaining score calculations—all while operating within the strict resource constraints of the iCE40 FPGA platform.
    </p>

    <figure class="figure" style="margin: 20px 0;">
      <img src="images/arcade-controller-interface.jpg" alt="NES controller interface and input processing" />
      <figcaption>NES controller interface with debouncing logic and input state management for responsive gameplay.</figcaption>
    </figure>

    <p style="line-height: 1.7; margin-bottom: 16px;">
      Input handling through a classic NES controller required implementing serial communication protocols and robust debouncing algorithms. The system needed to provide responsive gameplay while filtering out mechanical switch bounce and handling the timing-sensitive serial protocol used by Nintendo controllers, all implemented entirely in VHDL logic.
    </p>

    <div style="background: #f1f5f9; padding: 14px; border-radius: 8px; margin-top: 20px;">
      <p style="margin: 0; font-size: 14px;"><strong style="color: var(--accent);">Technical Implementation:</strong> VHDL Game Logic, VGA Timing Generation, Tile Rendering, NES Controller Protocol, Input Debouncing, FPGA Resource Optimization, Real-Time Graphics</p>
    </div>

    <div class="image-credits">
      <h4>Image Credits</h4>
      <ul>
        <li><strong>Game Screenshot:</strong> Custom photography - 2048 game running on VGA display via FPGA</li>
        <li><strong>VGA Timing:</strong> Custom screenshot - VGA timing diagram and VHDL implementation</li>
        <li><strong>Tile Renderer:</strong> Custom design - Graphics pipeline architecture visualization</li>
        <li><strong>Controller Interface:</strong> Custom photography - NES controller hardware interface setup</li>
      </ul>
      <p style="margin:8px 0 0; font-size:11px; font-style:italic;">All images are original academic work from Digital Logic Design coursework. Game screenshots and hardware photography are personal development work.</p>
    </div>
  </template>

  <!-- ========================= -->
  <!-- OPTIONAL: On-card PREVIEW -->
  <!-- The bullet lists inside each .card are the PREVIEW content (what users see BEFORE opening). -->
  <!-- Update those bullets directly in the card markup above. -->
  <!-- ========================= -->

<script>
  // Modal logic + focus management
  const modal = document.getElementById('modal');
  const modalBody = document.getElementById('modal-body');
  const modalTitle = document.getElementById('modal-title');
  const closeBtn = document.getElementById('modal-close');
  let lastFocused = null;

  function openModal(templateKey, titleText){
    const tmpl = document.getElementById('tmpl-' + templateKey);
    if(!tmpl){ return; }
    lastFocused = document.activeElement;
    modalBody.innerHTML = tmpl.innerHTML;
    modalTitle.textContent = titleText || 'Details';
    modal.setAttribute('open','');
    modal.setAttribute('aria-hidden','false');
    closeBtn.focus();
    document.body.style.overflow = 'hidden';
  }
  function closeModal(){
    modal.removeAttribute('open');
    modal.setAttribute('aria-hidden','true');
    modalBody.innerHTML = '';
    document.body.style.overflow = '';
    if (lastFocused) lastFocused.focus();
  }

  // Click/keyboard open for any card with data-open-modal
  function attachOpenHandlers(){
    document.querySelectorAll('.card[data-open-modal]').forEach(card => {
      card.addEventListener('click', () => {
        const key = card.getAttribute('data-open-modal');
        const title = card.querySelector('h3')?.textContent || 'Details';
        openModal(key, title);
      });
      card.addEventListener('keydown', (e) => {
        if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); card.click(); }
      });
    });
  }
  attachOpenHandlers();

  closeBtn.addEventListener('click', closeModal);
  modal.addEventListener('click', (e) => { if(e.target === modal) closeModal(); });
  document.addEventListener('keydown', (e) => { if(e.key === 'Escape' && modal.hasAttribute('open')) closeModal(); });

  // Light focus trap inside modal
  function trapFocus(e){
    if(!modal.hasAttribute('open')) return;
    const focusables = modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
    if(!focusables.length) return;
    const first = focusables[0], last = focusables[focusables.length - 1];
    if(e.key === 'Tab'){
      if(e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
      else if(!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
    }
  }
  document.addEventListener('keydown', trapFocus);

  // Active nav highlight on scroll
  const sections = document.querySelectorAll('section[id]');
  const navLinks = Array.from(document.querySelectorAll('.nav a'));
  const linkFor = id => navLinks.find(a => a.getAttribute('href') === '#' + id);

  const io = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      const id = entry.target.id;
      const link = linkFor(id);
      if(!link) return;
      if(entry.isIntersecting){
        navLinks.forEach(a => a.classList.remove('active'));
        link.classList.add('active');
      }
    });
  }, { rootMargin: "-40% 0px -50% 0px", threshold: 0 });

  sections.forEach(s => io.observe(s));
</script>
</body>
</html>
